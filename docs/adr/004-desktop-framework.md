# ADR-004: WPF для Desktop

**Дата**: 2025-01-20
**Статус**: Accepted

## Контекст

Необходимо было выбрать технологию для Desktop CRM. Рассматривались:

1. **WPF** — Windows-only, C#, XAML
2. **Electron** — Кроссплатформенный, JavaScript
3. **MAUI** — Кроссплатформенный, C#, XAML
4. **Avalonia** — Кроссплатформенный, C#, XAML

Требования:
- Только Windows (целевая аудитория)
- Нативный внешний вид
- Offline-режим
- Интеграция с принтерами

## Решение

Выбран **WPF (.NET 8.0)** с паттерном MVVM.

Стек:
- .NET 8.0 WPF — UI фреймворк
- MVVM — архитектурный паттерн
- Microsoft.Xaml.Behaviors.Wpf — поведения

## Последствия

### Положительные

- **Единый язык**: C# как для API
- **Нативный UI**: Windows-нативные контролы
- **Производительность**: быстрее Electron
- **Размер**: меньше чем Electron
- **Зрелость**: стабильная технология
- **Offline**: легко реализовать локальное хранение

### Отрицательные

- **Только Windows**: нет поддержки macOS/Linux
- **Устаревший XAML**: менее современный чем веб-технологии
- **Дизайн**: сложнее создать современный UI

### Нейтральные

- Требуется Windows для разработки
- Self-contained deployment увеличивает размер

## Связанные решения

- [ADR-002](002-api-technology.md) — ASP.NET Core (тот же язык)
- [ADR-010](010-offline-first-desktop.md) — Offline-first архитектура
