# ADR-001: Монорепозиторий

**Дата**: 2025-01-15
**Статус**: Accepted

## Контекст

Проект HQ Studio состоит из нескольких компонентов:
- Web-приложение (маркетинговый сайт + админка)
- Desktop-приложение (CRM для сотрудников)
- Backend API (общий для всех клиентов)

Необходимо было решить, как организовать код:
1. **Монорепозиторий** — весь код в одном репозитории
2. **Полирепозиторий** — отдельный репозиторий для каждого компонента

## Решение

Выбран **монорепозиторий** со следующей структурой:

```
/
├── HQStudio.API/           # Backend
├── HQStudio.API.Tests/     # Тесты API
├── HQStudio.Web/           # Frontend
├── HQStudio.Desktop/       # Desktop CRM
├── HQStudio.Desktop.Tests/ # Тесты Desktop
└── docs/                   # Документация
```

## Последствия

### Положительные

- **Атомарные изменения**: можно менять API и клиентов в одном коммите
- **Единый CI/CD**: один пайплайн для всех компонентов
- **Общие зависимости**: легче поддерживать консистентность версий
- **Упрощённый code review**: все изменения видны в одном PR
- **Единая документация**: всё в одном месте

### Отрицательные

- **Размер репозитория**: со временем может вырасти
- **Права доступа**: сложнее ограничить доступ к отдельным компонентам
- **CI время**: тесты всех компонентов запускаются при каждом push

### Нейтральные

- Требуется настройка отдельных workflows для каждого компонента
- Dependabot настраивается для каждой директории отдельно

## Связанные решения

- [ADR-007](007-ci-cd-pipeline.md) — CI/CD пайплайн
