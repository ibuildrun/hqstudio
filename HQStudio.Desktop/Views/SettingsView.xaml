<UserControl x:Class="HQStudio.Views.SettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel MaxWidth="800">
            
            <!-- Header -->
            <StackPanel Margin="0,0,0,32">
                <TextBlock Style="{DynamicResource TextH1}">
                    <TextBlock.Effect>
                        <DropShadowEffect Color="White" BlurRadius="15" ShadowDepth="0" Opacity="0.2"/>
                    </TextBlock.Effect>
                    –ù–ê–°–¢–†–û–ô–ö–ò
                </TextBlock>
                <TextBlock Text="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –¥–∞–Ω–Ω—ã—Ö" Style="{DynamicResource TextBody}" Margin="0,8,0,0"/>
            </StackPanel>

            <!-- Theme Section -->
            <Border Style="{DynamicResource Card}" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="–û–§–û–†–ú–õ–ï–ù–ò–ï" Style="{DynamicResource TextLabel}" Margin="0,0,0,16"/>
                    
                    <Grid Margin="0,0,0,16">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="–¢—ë–º–Ω–∞—è —Ç–µ–º–∞" FontSize="15" Foreground="{DynamicResource TextPrimaryBrush}" FontWeight="Medium"/>
                            <TextBlock Text="–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ç—ë–º–Ω–æ–π –∏ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–æ–π" 
                                       Style="{DynamicResource TextSmall}" Margin="0,4,0,0"/>
                        </StackPanel>
                        
                        <CheckBox Grid.Column="1" IsChecked="{Binding IsDarkTheme}" 
                                  VerticalAlignment="Center" Cursor="Hand">
                            <CheckBox.Template>
                                <ControlTemplate TargetType="CheckBox">
                                    <Border x:Name="bg" Width="52" Height="28" CornerRadius="14" 
                                            Background="#2A2A2A" Cursor="Hand">
                                        <Ellipse x:Name="dot" Width="22" Height="22" Fill="White" 
                                                 HorizontalAlignment="Left" Margin="3,0"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsChecked" Value="True">
                                            <Setter TargetName="bg" Property="Background" Value="#4CAF50"/>
                                            <Setter TargetName="dot" Property="HorizontalAlignment" Value="Right"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </CheckBox.Template>
                        </CheckBox>
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="–ó–∞—Å—Ç–∞–≤–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ" FontSize="15" Foreground="{DynamicResource TextPrimaryBrush}" FontWeight="Medium"/>
                            <TextBlock Text="–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∑–∞—Å—Ç–∞–≤–∫—É HQ Studio" 
                                       Style="{DynamicResource TextSmall}" Margin="0,4,0,0"/>
                        </StackPanel>
                        
                        <CheckBox Grid.Column="1" IsChecked="{Binding ShowSplash}" 
                                  VerticalAlignment="Center" Cursor="Hand">
                            <CheckBox.Template>
                                <ControlTemplate TargetType="CheckBox">
                                    <Border x:Name="bg" Width="52" Height="28" CornerRadius="14" 
                                            Background="#2A2A2A" Cursor="Hand">
                                        <Ellipse x:Name="dot" Width="22" Height="22" Fill="White" 
                                                 HorizontalAlignment="Left" Margin="3,0"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsChecked" Value="True">
                                            <Setter TargetName="bg" Property="Background" Value="#4CAF50"/>
                                            <Setter TargetName="dot" Property="HorizontalAlignment" Value="Right"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </CheckBox.Template>
                        </CheckBox>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Account Section -->
            <Border Style="{DynamicResource Card}" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="–ê–ö–ö–ê–£–ù–¢" Style="{DynamicResource TextLabel}" Margin="0,0,0,16"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <Border Grid.Column="0" Width="64" Height="64" CornerRadius="32" 
                                Background="{DynamicResource BgIconBrush}" Margin="0,0,20,0">
                            <TextBlock Text="üë§" FontSize="28" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="{Binding CurrentUserName}" FontSize="18" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <Border Background="#1A2A1A" CornerRadius="4" Padding="8,3" 
                                    HorizontalAlignment="Left" Margin="0,6,0,0">
                                <TextBlock Text="{Binding CurrentUserRole}" FontSize="11" Foreground="#4CAF50"/>
                            </Border>
                        </StackPanel>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Statistics Section -->
            <Border Style="{DynamicResource Card}" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="–°–¢–ê–¢–ò–°–¢–ò–ö–ê" Style="{DynamicResource TextLabel}" Margin="0,0,0,16"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                            <TextBlock Text="{Binding TotalClients}" FontSize="32" FontWeight="Bold" 
                                       Foreground="{DynamicResource TextPrimaryBrush}" HorizontalAlignment="Center"/>
                            <TextBlock Text="–ö–ª–∏–µ–Ω—Ç–æ–≤" Style="{DynamicResource TextSmall}" HorizontalAlignment="Center"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                            <TextBlock Text="{Binding TotalOrders}" FontSize="32" FontWeight="Bold" 
                                       Foreground="{DynamicResource TextPrimaryBrush}" HorizontalAlignment="Center"/>
                            <TextBlock Text="–ó–∞–∫–∞–∑–æ–≤" Style="{DynamicResource TextSmall}" HorizontalAlignment="Center"/>
                        </StackPanel>

                        <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                            <TextBlock Text="{Binding TotalServices}" FontSize="32" FontWeight="Bold" 
                                       Foreground="{DynamicResource TextPrimaryBrush}" HorizontalAlignment="Center"/>
                            <TextBlock Text="–£—Å–ª—É–≥" Style="{DynamicResource TextSmall}" HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Data Section -->
            <Border Style="{DynamicResource Card}" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="–î–ê–ù–ù–´–ï" Style="{DynamicResource TextLabel}" Margin="0,0,0,16"/>
                    
                    <Grid Margin="0,0,0,16">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö" FontSize="15" Foreground="{DynamicResource TextPrimaryBrush}" FontWeight="Medium"/>
                            <TextBlock Text="–û—Ç–∫—Ä—ã—Ç—å –ø–∞–ø–∫—É —Å –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è" 
                                       Style="{DynamicResource TextSmall}" Margin="0,4,0,0"/>
                        </StackPanel>
                        
                        <Button Grid.Column="1" Content="üìÇ –û—Ç–∫—Ä—ã—Ç—å" Style="{DynamicResource BtnSecondary}"
                                Command="{Binding ExportDataCommand}"/>
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="–°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö" FontSize="15" Foreground="{DynamicResource TextPrimaryBrush}" FontWeight="Medium"/>
                            <TextBlock Text="–í–µ—Ä–Ω—É—Ç—å –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ (–≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã)" 
                                       Style="{DynamicResource TextSmall}" Margin="0,4,0,0"/>
                        </StackPanel>
                        
                        <Button Grid.Column="1" Content="üîÑ –°–±—Ä–æ—Å–∏—Ç—å" Style="{DynamicResource BtnDanger}"
                                Command="{Binding ResetDataCommand}"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Updates Section -->
            <Border Style="{DynamicResource Card}" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="–û–ë–ù–û–í–õ–ï–ù–ò–Ø" Style="{DynamicResource TextLabel}" Margin="0,0,0,16"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è" FontSize="15" Foreground="{DynamicResource TextPrimaryBrush}" FontWeight="Medium"/>
                            <TextBlock Text="{Binding UpdateStatus}" 
                                       Style="{DynamicResource TextSmall}" Margin="0,4,0,0"/>
                        </StackPanel>
                        
                        <Button Grid.Column="1" Content="üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å" Style="{DynamicResource BtnSecondary}"
                                Command="{Binding CheckUpdatesCommand}"/>
                    </Grid>
                    
                    <!-- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –µ—Å–ª–∏ –µ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ -->
                    <Border Background="#1A2A1A" CornerRadius="8" Padding="16" Margin="0,16,0,0"
                            Visibility="{Binding IsUpdateAvailable, Converter={StaticResource BoolToVisibility}}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <StackPanel Grid.Column="0">
                                <TextBlock FontSize="14" Foreground="#4CAF50" FontWeight="SemiBold">
                                    <Run Text="‚ú® –î–æ—Å—Ç—É–ø–Ω–∞ –≤–µ—Ä—Å–∏—è "/>
                                    <Run Text="{Binding NewVersion}"/>
                                </TextBlock>
                                <TextBlock Text="{Binding UpdateReleaseNotes}" 
                                           Style="{DynamicResource TextSmall}" Margin="0,4,0,0"
                                           TextWrapping="Wrap" MaxWidth="400"/>
                            </StackPanel>
                            
                            <Button Grid.Column="1" Content="üì• –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å" 
                                    Background="#4CAF50" Foreground="White"
                                    Padding="16,10" VerticalAlignment="Center"
                                    Command="{Binding InstallUpdateCommand}"/>
                        </Grid>
                    </Border>
                </StackPanel>
            </Border>

            <!-- About Section -->
            <Border Style="{DynamicResource Card}">
                <StackPanel>
                    <TextBlock Text="–û –ü–†–û–ì–†–ê–ú–ú–ï" Style="{DynamicResource TextLabel}" Margin="0,0,0,16"/>
                    
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                        <TextBlock Text="HQ" FontSize="24" FontWeight="Bold" Foreground="{DynamicResource TextPrimaryBrush}" FontFamily="Segoe UI Black"/>
                        <TextBlock Text=" STUDIO" FontSize="24" FontWeight="Light" Foreground="#606060"/>
                        <Border Background="{DynamicResource BgAvatarBrush}" CornerRadius="4" Padding="8,3" Margin="12,0,0,0" VerticalAlignment="Center">
                            <TextBlock Text="{Binding AppVersion}" FontSize="11" Foreground="#606060"/>
                        </Border>
                    </StackPanel>
                    
                    <TextBlock Text="–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–æ–º" Style="{DynamicResource TextSmall}" Margin="0,0,0,4"/>
                    <TextBlock Text="¬© 2024 HQ Studio ‚Ä¢ –°—É—Ä–≥—É—Ç, –•–ú–ê–û-–Æ–≥—Ä–∞" Style="{DynamicResource TextSmall}"/>
                    <TextBlock Text="+7-929-293-52-22 ‚Ä¢ –ò–≥–æ–Ω–∏–Ω –ü–∞–≤–µ–ª –í–∞—Å–∏–ª—å–µ–≤–∏—á" Style="{DynamicResource TextSmall}" Margin="0,4,0,0"/>
                    
                    <Border BorderBrush="#2A2A2A" BorderThickness="0,1,0,0" Margin="0,16,0,0" Padding="0,16,0,0">
                        <StackPanel>
                            <TextBlock Text="–†–ê–ó–†–ê–ë–û–¢–ß–ò–ö" Style="{DynamicResource TextLabel}" Margin="0,0,0,12"/>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="üíª" FontSize="14" Margin="0,0,8,0" VerticalAlignment="Center"/>
                                <TextBlock Style="{DynamicResource TextSmall}" VerticalAlignment="Center">
                                    <Hyperlink NavigateUri="https://vk.com/xxxxuy" RequestNavigate="Hyperlink_RequestNavigate"
                                               Foreground="#4CAF50" TextDecorations="None">
                                        vk.com/xxxxuy
                                    </Hyperlink>
                                    <Run Text="  ‚Ä¢  "/>
                                    <Hyperlink NavigateUri="https://t.me/xxxu7" RequestNavigate="Hyperlink_RequestNavigate"
                                               Foreground="#4CAF50" TextDecorations="None">
                                        t.me/xxxu7
                                    </Hyperlink>
                                </TextBlock>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</UserControl>
